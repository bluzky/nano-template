var nano=(function(){var i=/{%([\s\S]+?)%}/g,a=/(^( )?(if|for|else|switch|case|break|{|}|do|end|else|))([\s\S]*)?/g,d=/{{(.+?)}}/g;function c(j){this.template=f(j);this.render=function(l,k){return this.template.call(l,l||{},k||{})};return this}function f(j){var k="var r=[]; var __temp;\n";k+=b(i,j,h);k+='return r.join("");';k="with(obj || {}){"+k+"}";return new Function("obj","ctx",k.replace(/[\r\t\n]/g,""))}function b(o,k,l){var j,n=0,m="";while(j=o.exec(k)){m+=l(k.slice(n,j.index));m+=l(j[1],true);n=j.index+j[0].length}m+=l(k.substr(n,k.length-n));return m}function h(j,l){var k="";if(l){if(j.match(a)){j=j.replace(/\bdo\b/g,"{");j=j.replace(/\bend\b/g,"}");j=j.replace(/\belse\b/g,"}else{");k+=j.replace(/\s+/g," ")+"\n"}}else{if(j.match(d)){k+=b(d,j,g)}else{if(j!=""){k+='r.push("'+j.replace(/"/g,'\\"').replace(/\r\n|\n/g,"")+'");\n'}}}return k}function g(j,l){var k="";if(l){k="r.push("+j+");"}else{if(j!=""){k='r.push("'+j.replace(/"/g,'\\"').replace(/\r\n|\n/g,"")+'");\n'}}return k}function e(j){return new c(j)}return{Template:c,compile:e}})();